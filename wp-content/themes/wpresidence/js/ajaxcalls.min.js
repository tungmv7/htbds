function wpestate_load_stats_tabs(a){var b=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:b,dataType:"json",data:{action:"wpestate_load_stats_property",postid:a},success:function(c){wpestate_show_prop_stat_graph_tab(c.array_values,c.labels,a)},error:function(c){}})}function wpestate_show_prop_stat_graph_tab(d,h,f){var b=jQuery("#myChartacc").get(0).getContext("2d");var c=new Chart(b);var g={labels:h,datasets:[{label:"My First dataset",fillColor:"rgba(220,220,220,0.5)",strokeColor:"rgba(220,220,220,0.8)",highlightFill:"rgba(220,220,220,0.75)",highlightStroke:"rgba(220,220,220,1)",data:d},]};var e={scaleBeginAtZero:true,scaleShowGridLines:true,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:true,scaleShowVerticalLines:true,barShowStroke:true,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};var a=new Chart(b).Bar(g,e)}function wpestate_load_stats(a){var b=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:b,dataType:"json",data:{action:"wpestate_load_stats_property",postid:a},success:function(c){wpestate_show_prop_stat_graph(c.array_values,c.labels,a)},error:function(c){}})}function wpestate_show_prop_stat_graph(d,h,f){var b=jQuery("#myChart_"+f).get(0).getContext("2d");var c=new Chart(b);var g={labels:h,datasets:[{label:"My First dataset",fillColor:"rgba(220,220,220,0.5)",strokeColor:"rgba(220,220,220,0.8)",highlightFill:"rgba(220,220,220,0.75)",highlightStroke:"rgba(220,220,220,1)",data:d},]};var e={scaleBeginAtZero:true,scaleShowGridLines:true,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:true,scaleShowVerticalLines:true,barShowStroke:true,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};var a=new Chart(b).Bar(g,e)}function get_filtering_ajax_result(){var f,b,g,c,e,d,j,i,h,a;f=jQuery("#adv_actions").attr("data-value");b=jQuery("#adv_categ").attr("data-value");g=jQuery("#advanced_city").attr("data-value");c=jQuery("#advanced_area").attr("data-value");e=parseInt(jQuery("#adv_rooms").val(),10);d=parseInt(jQuery("#adv_bath").val(),10);j=parseInt(jQuery("#price_low").val(),10);i=parseInt(jQuery("#price_max").val(),10);a=parseInt(jQuery("#adv-search-1").attr("data-postid"),10);h=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:h,data:{action:"get_filtering_ajax_result",action_values:f,category_values:b,city:g,area:c,advanced_rooms:e,advanced_bath:d,price_low:j,price_max:i,postid:a},success:function(k){jQuery("#results, #showinpage,#showinpage_mobile").show();jQuery("#results_no").show().empty().append(k)},error:function(k){}})}function custom_get_filtering_ajax_result(){var o,d,n,m,l,j,h,g,e,c,i,b,a,f,k;o=0;n=get_custom_value(mapfunctions_vars.slugs[0]);m=get_custom_value(mapfunctions_vars.slugs[1]);l=get_custom_value(mapfunctions_vars.slugs[2]);j=get_custom_value(mapfunctions_vars.slugs[3]);h=get_custom_value(mapfunctions_vars.slugs[4]);g=get_custom_value(mapfunctions_vars.slugs[5]);e=get_custom_value(mapfunctions_vars.slugs[6]);c=get_custom_value(mapfunctions_vars.slugs[7]);b=parseInt(jQuery("#adv-search-1").attr("data-postid"),10);i=ajaxcalls_vars.admin_url+"admin-ajax.php";a=parseFloat(jQuery("#price_low").val());f=parseFloat(jQuery("#price_max").val());d=0;if(jQuery("#google_map_prop_list_sidebar").length){d=1}k="";jQuery('.halfsearch  input[type="checkbox"]').each(function(){if(jQuery(this).is(":checked")){k=k+","+jQuery(this).attr("name")}});jQuery.ajax({type:"POST",url:i,data:{action:"custom_adv_get_filtering_ajax_result",val1:n,val2:m,val3:l,val4:j,val5:h,val6:g,val7:e,val8:c,newpage:o,postid:b,slider_min:a,slider_max:f,halfmap:d,all_checkers:k},success:function(p){jQuery("#results, #showinpage,#showinpage_mobile").show();jQuery("#results_no").show().empty().append(p)},error:function(p){}})}function start_filtering_ajax(m){var g,b,h,c,f,d,l,k,i,a,e,j;g=jQuery("#adv_actions").attr("data-value");b=jQuery("#adv_categ").attr("data-value");h=jQuery("#advanced_city").attr("data-value");c=jQuery("#advanced_area").attr("data-value");f=parseInt(jQuery("#adv_rooms").val(),10);d=parseInt(jQuery("#adv_bath").val(),10);l=parseInt(jQuery("#price_low").val(),10);k=parseInt(jQuery("#price_max").val(),10);a=parseInt(jQuery("#adv-search-1").attr("data-postid"),10);i=ajaxcalls_vars.admin_url+"admin-ajax.php";e=0;if(jQuery("#google_map_prop_list_sidebar").length){e=1}a=1;if(document.getElementById("search_wrapper")){a=parseInt(jQuery("#search_wrapper").attr("data-postid"),10)}j="";jQuery('.halfsearch  input[type="checkbox"]').each(function(){if(jQuery(this).is(":checked")){j=j+","+jQuery(this).attr("name")}});e=0;if(jQuery("#google_map_prop_list_sidebar").length){e=1}jQuery("#listing_ajax_container").empty();jQuery("#listing_loader").show();jQuery.ajax({type:"POST",url:i,data:{action:"wpestate_ajax_filter_listings_search",action_values:g,category_values:b,city:h,area:c,advanced_rooms:f,advanced_bath:d,price_low:l,price_max:k,newpage:m,postid:a,halfmap:e,all_checkers:j},success:function(n){jQuery("#listing_loader").hide();jQuery(".listing_loader_title").show();jQuery(".pagination_nojax").hide();jQuery("#listing_ajax_container").empty().append(n);restart_js_after_ajax()},error:function(n){}})}function typeof_value(b,a){if(typeof(b)!=="undefined"){if(!jQuery("#"+a).hasClass("filter_menu_trigger")){if(a!=="adv_categ"&&a!=="adv_actions"&&a!=="advanced_city"&&a!=="advanced_area"&&a!=="county-state"&&a!=="property-country"){b=b}else{b=b.replace("-"," ")}}}else{b=""}return b}function custom_search_start_filtering_ajax(o){var n,m,l,j,h,g,e,d,i,b,a,f,c,k;console.log("custom_search_start_filtering_ajax");n=get_custom_value(mapfunctions_vars.slugs[0]);m=get_custom_value(mapfunctions_vars.slugs[1]);l=get_custom_value(mapfunctions_vars.slugs[2]);j=get_custom_value(mapfunctions_vars.slugs[3]);h=get_custom_value(mapfunctions_vars.slugs[4]);g=get_custom_value(mapfunctions_vars.slugs[5]);e=get_custom_value(mapfunctions_vars.slugs[6]);d=get_custom_value(mapfunctions_vars.slugs[7]);n=typeof_value(n,mapfunctions_vars.slugs[0]);m=typeof_value(m,mapfunctions_vars.slugs[1]);l=typeof_value(l,mapfunctions_vars.slugs[2]);j=typeof_value(j,mapfunctions_vars.slugs[3]);h=typeof_value(h,mapfunctions_vars.slugs[4]);g=typeof_value(g,mapfunctions_vars.slugs[5]);e=typeof_value(e,mapfunctions_vars.slugs[6]);d=typeof_value(d,mapfunctions_vars.slugs[7]);a=parseFloat(jQuery("#price_low").val());f=parseFloat(jQuery("#price_max").val());k="";jQuery('.halfsearch  input[type="checkbox"]').each(function(){if(jQuery(this).is(":checked")){k=k+","+jQuery(this).attr("name")}});c=0;if(jQuery("#google_map_prop_list_sidebar").length){c=1}b=1;if(document.getElementById("search_wrapper")){b=parseInt(jQuery("#search_wrapper").attr("data-postid"),10)}i=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery("#listing_ajax_container").empty();jQuery("#listing_loader").show();jQuery.ajax({type:"POST",url:i,data:{action:"wpestate_custom_adv_ajax_filter_listings_search",val1:n,val2:m,val3:l,val4:j,val5:h,val6:g,val7:e,val8:d,newpage:o,postid:b,slider_min:a,slider_max:f,halfmap:c,all_checkers:k},success:function(p){jQuery("#listing_loader").hide();jQuery(".listing_loader_title").show();jQuery(".entry-title.title_prop").hide();jQuery("#listing_ajax_container").empty().append(p);restart_js_after_ajax()},error:function(p){}})}function restart_js_after_ajax(){wpestate_lazy_load_carousel_property_unit();if(typeof enable_half_map_pin_action=="function"){enable_half_map_pin_action()}var e,b,d,a,c;jQuery(".prop-compare:first-of-type").remove();jQuery(".pagination_ajax_search a").click(function(g){g.preventDefault();e=parseInt(jQuery(this).attr("data-future"),10);document.getElementById("scrollhere").scrollIntoView();start_filtering_ajax(e)});jQuery(".pagination_ajax a").click(function(g){g.preventDefault();e=parseInt(jQuery(this).attr("data-future"),10);document.getElementById("scrollhere").scrollIntoView();start_filtering(e)});jQuery(".property_listing").click(function(){var g;g=jQuery(this).attr("data-link");window.open(g,"_self")});jQuery(".share_unit").click(function(g){g.stopPropagation()});var f=[];jQuery(".compare-action").unbind("click");jQuery(".compare-action").click(function(h){h.preventDefault();h.stopPropagation();jQuery(".prop-compare").show();b=jQuery(this).attr("data-pid");for(var g=0;g<f.length;g++){if(f[g]===b){return}}f.push(b);d=jQuery(this).attr("data-pimage");a='<div class="items_compare ajax_compare" style="display:none;"><img src="'+d+'" alt="compare_thumb" class="img-responsive"><input type="hidden" value="'+b+'" name="selected_id[]" /></div>';jQuery("div.items_compare:first-child").css("background","red");if(parseInt(jQuery(".items_compare").length,10)>3){jQuery(".items_compare:first").remove()}jQuery("#submit_compare").before(a);jQuery(".items_compare").fadeIn(800)});jQuery("#submit_compare").unbind("click");jQuery("#submit_compare").click(function(){jQuery("#form_compare").trigger("submit")});jQuery(".icon-fav").click(function(g){g.stopPropagation();c=jQuery(this);add_remove_favorite(c)});jQuery(".share_list, .icon-fav, .compare-action").hover(function(){jQuery(this).tooltip("show")},function(){jQuery(this).tooltip("hide")});jQuery(".share_list").click(function(g){g.stopPropagation();var h=jQuery(this).parent().find(".share_unit");h.toggle();jQuery(this).toggleClass("share_on")})}function add_remove_favorite(c){var b,a,d;b=c.attr("data-postid");a=jQuery("#security-pass").val();d=ajaxcalls_vars.admin_url+"admin-ajax.php";if(parseInt(ajaxcalls_vars.userid,10)===0){show_login_form()}else{c.toggleClass("icon-fav-off");c.toggleClass("icon-fav-on");jQuery.ajax({type:"POST",url:d,dataType:"json",data:{action:"wpestate_ajax_add_fav",post_id:b},success:function(e){if(e.added){c.removeClass("icon-fav-off").addClass("icon-fav-on")}else{c.removeClass("icon-fav-on").addClass("icon-fav-off")}},error:function(e){}})}}function resend_for_approval(d,a){var c,b;c=control_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:c,data:{action:"wpestate_ajax_resend_for_approval",propid:d},success:function(e){if(e==="pending"){a.parent().empty().append('<span class="featured_prop">Sent for approval</span>');b=parseInt(jQuery("#normal_list_no").text(),10);jQuery("#normal_list_no").text(b-1)}else{a.parent().empty().append(e)}},error:function(e){}})}function make_prop_featured(c,a){var b=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:b,data:{action:"wpestate_ajax_make_prop_featured",propid:c},success:function(e){if(e.trim()==="done"){a.empty().html('<span class="label label-success">'+ajaxcalls_vars.prop_featured+"</span>");var d=parseInt(jQuery("#featured_list_no").text(),10);jQuery("#featured_list_no").text(d-1)}else{a.empty().removeClass("make_featured").addClass("featured_exp").text(ajaxcalls_vars.no_prop_featured)}},error:function(d){}})}function recuring_pay_pack_via_paypal(){var c,b,a;c=control_vars.admin_url+"admin-ajax.php";b=jQuery("#pack_select :selected").text();a=jQuery("#pack_select :selected").val();jQuery.ajax({type:"POST",url:c,data:{action:"wpestate_ajax_paypal_pack_recuring_generation",packName:b,packId:a},success:function(d){window.location.href=d},error:function(d){}})}function pay_pack_via_paypal(){var c,b,a;c=control_vars.admin_url+"admin-ajax.php";b=jQuery("#pack_select :selected").text();a=jQuery("#pack_select :selected").val();jQuery.ajax({type:"POST",url:c,data:{action:"wpestate_ajax_paypal_pack_generation",packName:b,packId:a},success:function(d){window.location.href=d},error:function(d){}})}function listing_pay(e,c,b,a){var d=control_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:d,data:{action:"wpestate_ajax_listing_pay",propid:e,is_featured:b,is_upgrade:a},success:function(f){window.location.href=f},error:function(f){}})}function start_filtering(f){jQuery("#grid_view").addClass("icon_selected");jQuery("#list_view").removeClass("icon_selected");var e,d,g,c,a,h,b;e=jQuery("#a_filter_action").attr("data-value");d=jQuery("#a_filter_categ").attr("data-value");g=jQuery("#a_filter_cities").attr("data-value");c=jQuery("#a_filter_areas").attr("data-value");a=jQuery("#a_filter_order").attr("data-value");h=ajaxcalls_vars.admin_url+"admin-ajax.php";b=jQuery("#page_idx").val();jQuery("#listing_ajax_container").empty();jQuery("#listing_loader").show();jQuery.ajax({type:"POST",url:h,data:{action:"ajax_filter_listings",action_values:e,category_values:d,city:g,area:c,order:a,newpage:f,page_id:b},success:function(i){jQuery("#listing_loader").hide();jQuery("#listing_ajax_container").empty().append(i);jQuery(".pagination_nojax").hide();restart_js_after_ajax()},error:function(i){}})}function show_login_form(){var a=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:a,data:{action:"wpestate_ajax_show_login_form"},success:function(b){jQuery("body").append(b);jQuery("#loginmodal").modal();enable_actions_modal()},error:function(b){}})}function wpestate_change_pass_profile(){var b,d,c,a,e;b=jQuery("#oldpass").val();d=jQuery("#newpass").val();c=jQuery("#renewpass").val();a=jQuery("#security-pass").val();e=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:e,data:{action:"wpestate_ajax_update_pass",oldpass:b,newpass:d,renewpass:c,"security-pass":a},success:function(f){jQuery("#profile_pass").empty().append('<div class="login-alert">'+f+"<div>");jQuery("#oldpass, #newpass, #renewpass").val("")},error:function(f){}})}function wpestate_register_user(d){var f,b,a,e,c,g;g=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery("#register_message_area_topbar").empty().append('<div class="login-alert">'+control_vars.procesing+"</div>");if(d===1){f=jQuery("#user_login_register_topbar").val();b=jQuery("#user_email_register_topbar").val();c=jQuery("#security-register-topbar").val();if(ajaxcalls_vars.userpass==="yes"){a=jQuery("#user_password_topbar").val();e=jQuery("#user_password_topbar_retype").val()}if(!jQuery("#user_terms_register_topbar").is(":checked")){jQuery("#register_message_area_topbar").empty().append('<div class="login-alert">'+control_vars.terms_cond+"</div>");return}}else{if(d===2){f=jQuery("#user_login_register_wd").val();b=jQuery("#user_email_register_wd").val();c=jQuery("#security-register").val();if(ajaxcalls_vars.userpass==="yes"){a=jQuery("#user_password_wd").val();e=jQuery("#user_password_wd_retype").val()}if(!jQuery("#user_terms_register_wd").is(":checked")){jQuery("#register_message_area_wd").empty().append('<div class="login-alert">'+control_vars.terms_cond+"</div>");return}}else{if(d===3){f=jQuery("#user_login_register").val();b=jQuery("#user_email_register").val();c=jQuery("#security-register").val();if(ajaxcalls_vars.userpass==="yes"){a=jQuery("#user_password").val();e=jQuery("#user_password_retype").val()}if(!jQuery("#user_terms_register_sh").is(":checked")){jQuery("#register_message_area").empty().append('<div class="login-alert">'+control_vars.terms_cond+"</div>");return}}else{if(d===5){f=jQuery("#user_login_register_mobile").val();b=jQuery("#user_email_register_mobile").val();c=jQuery("#security-register-mobile").val();if(ajaxcalls_vars.userpass==="yes"){a=jQuery("#user_password_mobile").val();e=jQuery("#user_password_mobile_retype").val()}if(!jQuery("#user_terms_register_mobile").is(":checked")){jQuery("#register_message_area_mobile").empty().append('<div class="login-alert">'+control_vars.terms_cond+"</div>");return}}}}}jQuery.ajax({type:"POST",url:g,data:{action:"wpestate_ajax_register_user",user_login_register:f,user_email_register:b,user_pass:a,user_pass_retype:e,type:d,"security-register":c},success:function(h){if(d===1){jQuery("#register_message_area_topbar").empty().append('<div class="login-alert">'+h+"</div>");jQuery("#user_login_register_topbar").val("");jQuery("#user_email_register_topbar").val("");jQuery("#user_password_topbar").val("");jQuery("#user_password_topbar_retype").val("")}else{if(d===2){jQuery("#register_message_area_wd").empty().append('<div class="login-alert">'+h+"</div>");jQuery("#user_login_register_wd").val("");jQuery("#user_email_register_wd").val("");jQuery("#user_password_wd").val("");jQuery("#user_password_wd_retype").val("")}else{if(d===3){jQuery("#register_message_area").empty().append('<div class="login-alert">'+h+"</div>");jQuery("#user_login_register").val("");jQuery("#user_email_register").val("");jQuery("#user_password").val("");jQuery("#user_password_retype").val("")}else{if(d===5){jQuery("#register_message_area_mobile").empty().append('<div class="login-alert">'+h+"</div>");jQuery("#user_login_register_mobile").val("");jQuery("#user_email_register_mobile").val("");jQuery("#user_password_mobile").val("");jQuery("#user_password_mobile_retype").val("")}}}}},error:function(h){}})}function wpestate_forgot(a){var b,c,e,d;if(a===1){b=jQuery("#forgot_email").val();c=jQuery("#security-forgot").val()}if(a===2){b=jQuery("#forgot_email_topbar").val();c=jQuery("#security-forgot-topbar").val()}if(a===3){b=jQuery("#forgot_email_shortcode").val();c=jQuery("#security-login-forgot_wd").val()}if(a===5){b=jQuery("#forgot_email_mobile").val();c=jQuery("#security-forgot-mobile").val()}e=jQuery("#postid").val();d=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:d,data:{action:"wpestate_ajax_forgot_pass",forgot_email:b,"security-forgot":c,postid:e,type:a},success:function(f){if(a===1){jQuery("#forgot_email").val("");jQuery("#forgot_pass_area").empty().append('<div class="login-alert">'+f+"<div>")}if(a===2){jQuery("#forgot_email_topbar").val("");jQuery("#forgot_pass_area_topbar").empty().append('<div class="login-alert">'+f+"<div>")}if(a===3){jQuery("#forgot_email_shortcode").val("");jQuery("#forgot_pass_area_shortcode").empty().append('<div class="login-alert">'+f+"<div>")}if(a===5){jQuery("#forgot_email_mobile").val("");jQuery("#forgot_pass_area_mobile").empty().append('<div class="login-alert">'+f+"<div>")}},error:function(f){}})}function wpestate_login_wd(){var d,b,a,e,c;d=jQuery("#login_user_wd").val();b=jQuery("#login_pwd_wd").val();c=jQuery("#security-login").val();a=jQuery("#loginpop_wd").val();e=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery("#login_message_area_wd").empty().append('<div class="login-alert">'+ajaxcalls_vars.login_loading+"</div>");jQuery.ajax({type:"POST",dataType:"json",url:e,data:{action:"ajax_loginx_form",login_user:d,login_pwd:b,ispop:a,"security-login":c},success:function(f){jQuery("#login_message_area_wd").empty().append('<div class="login-alert">'+f.message+"<div>");if(f.loggedin===true){if(parseInt(f.ispop,10)===1){ajaxcalls_vars.userid=f.newuser;jQuery("#ajax_login_container").remove()}else{document.location.href=ajaxcalls_vars.login_redirect}jQuery("#user_not_logged_in").hide();jQuery("#user_logged_in").show()}else{jQuery("#login_user").val("");jQuery("#login_pwd").val("")}},error:function(f){}})}function wpestate_login_topbar(){var d,b,a,e,c;d=jQuery("#login_user_topbar").val();b=jQuery("#login_pwd_topbar").val();c=jQuery("#security-login-topbar").val();e=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery("#login_message_area_topbar").empty().append('<div class="login-alert">'+ajaxcalls_vars.login_loading+"</div>");jQuery.ajax({type:"POST",dataType:"json",url:e,data:{action:"ajax_loginx_form_topbar",login_user:d,login_pwd:b,security:c},success:function(f){jQuery("#login_message_area_topbar").empty().append('<div class="login-alert">'+f.message+"<div>");if(f.loggedin===true){document.location.href=ajaxcalls_vars.login_redirect}else{jQuery("#login_user").val("");jQuery("#login_pwd").val("")}},error:function(f){}})}function wpestate_login_mobile(){var d,b,a,e,c;d=jQuery("#login_user_mobile").val();b=jQuery("#login_pwd_mobile").val();c=jQuery("#security-login-mobile").val();e=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery("#login_message_area_mobile").empty().append('<div class="login-alert">'+ajaxcalls_vars.login_loading+"</div>");jQuery.ajax({type:"POST",dataType:"json",url:e,data:{action:"wpestate_ajax_loginx_form_mobile",login_user:d,login_pwd:b,security:c},success:function(f){jQuery("#login_message_area_mobile").empty().append('<div class="login-alert">'+f.message+"<div>");if(f.loggedin===true){document.location.href=ajaxcalls_vars.login_redirect}else{jQuery("#login_user_mobile").val("");jQuery("#login_pwd_mobile").val("")}},error:function(f){}})}function enable_actions_modal(){jQuery("#facebooklogin").click(function(){jQuery("#cover").hide();login_via_facebook(jQuery(this))});jQuery("#googlelogin,#yahoologin").click(function(){jQuery("#cover").hide();login_via_google(jQuery(this))});jQuery("#closeadvancedlogin").click(function(){jQuery("#ajax_login_container").remove();jQuery("#cover").remove()});jQuery("#reveal_register").click(function(){jQuery("#ajax_login_div").fadeOut(400,function(){jQuery("#ajax_register_div").fadeIn()})});jQuery("#reveal_login").click(function(){jQuery("#ajax_register_div").fadeOut(400,function(){jQuery("#ajax_login_div").fadeIn()})});jQuery("#wp-login-but").click(function(){wpestate_login()});jQuery("#login_pwd, #login_user").keydown(function(a){if(a.keyCode===13){a.preventDefault();wpestate_login()}});jQuery("#wp-submit-register").click(function(){wpestate_register_user(3)});jQuery("#user_email_register, #user_login_register, #user_password, #user_password_retype").keydown(function(a){if(a.keyCode===13){a.preventDefault();wpestate_register_user(3)}})}function wpestate_login(){var d,b,c,a,e;d=jQuery("#login_user").val();b=jQuery("#login_pwd").val();c=jQuery("#security-login").val();a=jQuery("#loginpop").val();e=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery("#login_message_area").empty().append('<div class="login-alert">'+ajaxcalls_vars.login_loading+"</div>");jQuery.ajax({type:"POST",dataType:"json",url:e,data:{action:"ajax_loginx_form",login_user:d,login_pwd:b,ispop:a,"security-login":c},success:function(f){jQuery("#login_message_area").empty().append('<div class="login-alert">'+f.message+"<div>");if(f.loggedin===true){if(parseInt(f.ispop,10)===1){ajaxcalls_vars.userid=f.newuser;jQuery("#loginmodal").modal("hide");update_menu_bar(f.newuser)}else{document.location.href=ajaxcalls_vars.login_redirect}jQuery("#user_not_logged_in").hide();jQuery("#user_logged_in").show()}else{jQuery("#login_user").val("");jQuery("#login_pwd").val("")}},error:function(f){}})}function login_via_facebook(b){var a,c;c=control_vars.admin_url+"admin-ajax.php";a="facebook";jQuery.ajax({type:"POST",url:c,data:{action:"wpestate_ajax_facebook_login",login_type:a},success:function(d){window.location.href=d},error:function(d){}})}function login_via_google(b){var c,a;c=control_vars.admin_url+"admin-ajax.php";a=b.attr("data-social");jQuery.ajax({type:"POST",url:c,data:{action:"wpestate_ajax_google_login",login_type:a},success:function(d){window.location.href=d},error:function(d){}})}function login_via_google_oauth(){var b,a;b=control_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:b,data:{action:"wpestate_ajax_google_login_oauth"},success:function(c){window.location.href=c},error:function(c){}})}function update_menu_bar(b){var a,c;c=control_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",dataType:"json",url:c,data:{action:"wpestate_update_menu_bar",newuser:b},success:function(d){jQuery("#user_menu_open").empty().append(d.menu).addClass("menulist");a='<div class="menu_user_picture" style="background-image: url('+d.picture+')"></div>';jQuery("#user_menu_u").append(a).addClass("user_loged");jQuery(".submit_action").remove()},error:function(d){}})}jQuery(document).ready(function(b){b(".disable_listing").click(function(){var f=b(this).attr("data-postid");var e=ajaxcalls_vars.admin_url+"admin-ajax.php";var d=0;if(b(this).hasClass("disabledx")){d=1;b(this).removeClass("disabledx")}else{b(this).addClass("disabledx")}var c=b(this);b.ajax({type:"POST",url:e,data:{action:"wpestate_disable_listing",prop_id:f,},success:function(g){if(d===1){c.empty().append('<i class="fa fa-play"></i>');c.tooltip("hide").attr("data-original-title",ajaxcalls_vars.enablelisting).tooltip("fixTitle").tooltip("show")}else{c.empty().append('<i class="fa fa-pause"></i>');c.tooltip("hide").attr("data-original-title",ajaxcalls_vars.disablelisting).tooltip("fixTitle").tooltip("show")}},error:function(g){}})});b("#stripe_cancel").click(function(){var c,d;c=b(this).attr("data-stripeid");d=ajaxcalls_vars.admin_url+"admin-ajax.php";b("#stripe_cancel").text(ajaxcalls_vars.saving);b.ajax({type:"POST",url:d,data:{action:"wpestate_cancel_stripe",stripe_customer_id:c,},success:function(e){b("#stripe_cancel").text(ajaxcalls_vars.stripecancel)},error:function(e){}})});b(".resend_pending").click(function(){var c=b(this).attr("data-listingid");resend_for_approval(c,b(this))});b(".make_featured").click(function(){var c=b(this).attr("data-postid");make_prop_featured(c,b(this));b(this).unbind("click")});b("#pick_pack").click(function(){var c;c='<div class="modal fade" id="paypal_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-body listing-submit">'+ajaxcalls_vars.paypal+"</div></div></div></div></div>";jQuery("body").append(c);jQuery("#paypal_modal").modal();if(b("#pack_recuring").is(":checked")){recuring_pay_pack_via_paypal()}else{pay_pack_via_paypal()}});b(".listing_submit_normal").click(function(){var g,f,d,c,e;e='<div class="modal fade" id="paypal_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-body listing-submit">'+ajaxcalls_vars.paypal+"</div></div></div></div></div>";jQuery("body").append(e);jQuery("#paypal_modal").modal();g=b(this).attr("data-listingid");f=b(this).parent().find("input");d=0;c=0;if(f.prop("checked")){d=1}else{d=0}listing_pay(g,b(this),d,c)});b(".listing_upgrade").click(function(){var c,d,e;c=1;d=0;e=b(this).attr("data-listingid");listing_pay(e,b(this),d,c)});b("#facebooklogin, #facebookloginsidebar, #facebookloginsidebar_topbar,#facebookloginsidebar_mobile").click(function(){login_via_facebook(b(this))});b("#yahoologin, #aollogin,  #yahoologinsidebar, #yahoologinsidebar_topbar,#yahoologinsidebar_mobile").click(function(){login_via_google(b(this))});b("#googlelogin, #googleloginsidebar, #googleloginsidebar_topbar,#googleloginsidebar_mobile").click(function(){login_via_google_oauth()});b("#agent_submit").click(function(){var h,f,e,d,i,c,g,j;h=b("#agent_contact_name").val();f=b("#agent_user_email").val();e=b("#agent_phone").val();d=b("#agent_comment").val();i=b("#agent_id").val();c=b("#agent_property_id").val();g=b("#agent_property_ajax_nonce").val();j=ajaxcalls_vars.admin_url+"admin-ajax.php";b("#alert-agent-contact").empty().append(ajaxcalls_vars.sending);b.ajax({type:"POST",dataType:"json",url:j,data:{action:"wpestate_ajax_agent_contact_form",name:h,email:f,phone:e,comment:d,agent_id:i,propid:c,nonce:g},success:function(k){if(k.sent){b("#agent_contact_name").val("");b("#agent_user_email").val("");b("#agent_phone").val("");b("#agent_comment").val("")}b("#alert-agent-contact").empty().append(k.response)},error:function(k){console.log(k)}})});b(".listing_filters_head li").click(function(){var d,e,c;d=b(this).text();e=b(this).attr("data-value");c=b(this).parent().parent();c.find(".filter_menu_trigger").text(d).append('<span class="caret caret_filter"></span>').attr("data-value",e);c.find("input:hidden").val(e);start_filtering(1);show_pins_filters_from_file()});b(".adv_listing_filters_head li").click(function(){var f,g,e,d,c,h;h=ajaxcalls_vars.admin_url+"admin-ajax.php";f=b(this).text();g=b(this).attr("data-value");e=b(this).parent().parent();e.find(".filter_menu_trigger").text(f).append('<span class="caret caret_filter"></span>').attr("data-value",g);d=b("#searcharg").val();c=b("#page_idx").val();b("#listing_ajax_container").empty();b("#listing_loader").show();b.ajax({type:"POST",url:h,data:{action:"wpestate_advanced_search_filters",args:d,value:g,page_id:c},success:function(i){b("#listing_loader").hide();b("#listing_ajax_container").append(i);restart_js_after_ajax()},error:function(i){}})});b(".icon-fav").click(function(d){d.stopPropagation();var c=b(this);add_remove_favorite(c)});b(".icon-fav-on-remove").click(function(c){c.stopPropagation();b(this).parent().parent().remove()});b("#add_favorites").click(function(){var d,c,e;d=b("#add_favorites").attr("data-postid");c=b("#security-pass").val();e=ajaxcalls_vars.admin_url+"admin-ajax.php";if(parseInt(ajaxcalls_vars.userid,10)===0){show_login_form()}else{b("#add_favorites").text(ajaxcalls_vars.saving);b.ajax({type:"POST",url:e,dataType:"json",data:{action:"wpestate_ajax_add_fav",post_id:d},success:function(f){if(f.added){b("#add_favorites").text(ajaxcalls_vars.favorite).removeClass("isnotfavorite").addClass("isfavorite")}else{b("#add_favorites").text(ajaxcalls_vars.add_favorite).removeClass("isfavorite").addClass("isnotfavorite")}},error:function(f){}})}});b("#wp-submit-register").click(function(){wpestate_register_user(3)});jQuery("#user_email_register, #user_login_register, #user_password, #user_password_retype").keydown(function(c){if(c.keyCode===13){c.preventDefault();wpestate_register_user(3)}});b("#wp-submit-register_wd").click(function(){wpestate_register_user(2)});b("#user_email_register_wd, #user_login_register_wd").keydown(function(c){if(c.keyCode===13){c.preventDefault();wpestate_register_user(2)}});b("#wp-submit-register_topbar").click(function(){wpestate_register_user(1)});b("#user_email_register_topbar, #user_login_register_topbar, #user_password_topbar, #user_password_topbar_retype").keydown(function(c){if(c.keyCode===13){c.preventDefault();wpestate_register_user(1)}});b("#wp-submit-register_mobile").click(function(){wpestate_register_user(5)});b("#user_email_register_mobile, #user_login_register_mobile, #user_password_mobile, #user_password_mobile_retype").keydown(function(c){if(c.keyCode===13){c.preventDefault();wpestate_register_user(5)}});b("#forgot_pass").click(function(c){c.preventDefault();b("#login-div").hide();b("#forgot-pass-div-sh").show()});b("#return_login").click(function(c){c.preventDefault();b("#forgot-pass-div-sh").hide();b("#login-div").show()});b("#forgot_pass_topbar").click(function(c){c.preventDefault();b("#login-div_topbar,#login-div-title-topbar").hide();b("#forgot-div-title-topbar,#forgot-pass-div").show()});b("#forgot_pass_mobile").click(function(c){c.preventDefault();b("#login-div_mobile,#login-div-title-mobile").hide();b("#forgot-div-title-mobile,#forgot-pass-div").show()});b("#return_login_topbar").click(function(c){c.preventDefault();b("#forgot-div-title-topbar,#forgot-pass-div").hide();b("#login-div_topbar,#login-div-title-topbar").show()});b("#return_login_mobile").click(function(c){c.preventDefault();b("#forgot-div-title-mobile,#forgot-pass-div").hide();b("#login-div_mobile,#login-div-title-mobile").show()});b("#forgot_pass_widget").click(function(c){c.preventDefault();b("#login-div-title,#login-div").hide();b("#forgot-pass-div_shortcode,#forgot-div-title_shortcode").show()});b("#return_login_shortcode").click(function(c){c.preventDefault();b("#forgot-pass-div_shortcode,#forgot-div-title_shortcode").hide();b("#login-div-title,#login-div").show()});b("#wp-forgot-but").click(function(){wpestate_forgot(1)});b("#wp-forgot-but-topbar").click(function(){wpestate_forgot(2)});b("#wp-forgot-but-mobile").click(function(){wpestate_forgot(5)});b("#wp-forgot-but_shortcode").click(function(){wpestate_forgot(3)});b("#forgot_email").keydown(function(c){if(c.keyCode===13){c.preventDefault();wpestate_forgot(1)}});b("#forgot_email_topbar").keydown(function(c){if(c.keyCode===13){c.preventDefault();wpestate_forgot(2)}});b("#forgot_email_topbar").keydown(function(c){if(c.keyCode===13){c.preventDefault();wpestate_forgot(3)}});b("#widget_register_topbar").click(function(c){c.preventDefault();b("#login-div_topbar").hide();b("#register-div-topbar").show();b("#login-div-title-topbar").hide();b("#register-div-title-topbar").show()});b("#widget_login_topbar").click(function(c){c.preventDefault();b("#login-div_topbar").show();b("#register-div-topbar").hide();b("#login-div-title-topbar").show();b("#register-div-title-topbar").hide()});b("#widget_register_mobile").click(function(c){c.preventDefault();b("#login-div_mobile").hide();b("#register-div-mobile").show();b("#login-div-title-mobile").hide();b("#register-div-title-mobile").show()});b("#widget_login_mobile").click(function(c){c.preventDefault();b("#login-div_mobile").show();b("#register-div-mobile").hide();b("#login-div-title-mobile").show();b("#register-div-title-mobile").hide()});b("#widget_register_sw").click(function(c){c.preventDefault();b(".loginwd_sidebar #login-div").hide();b(".loginwd_sidebar #register-div").show();b(".loginwd_sidebar #login-div-title").hide();b(".loginwd_sidebar #register-div-title").show()});b("#widget_login_sw").click(function(c){c.preventDefault();b(".loginwd_sidebar #register-div").hide();b(".loginwd_sidebar #login-div").show();b(".loginwd_sidebar #register-div-title").hide();b(".loginwd_sidebar #login-div-title").show()});b("#wp-login-but").click(function(){wpestate_login()});b("#login_pwd, #login_user").keydown(function(c){if(c.keyCode===13){c.preventDefault();wpestate_login()}});b("#wp-login-but-wd").click(function(){wpestate_login_wd()});b("#login_pwd_wd, #login_user_wd").keydown(function(c){if(c.keyCode===13){c.preventDefault();wpestate_login_wd()}});b("#wp-login-but-topbar").click(function(){wpestate_login_topbar()});b("#login_pwd_topbar, #login_user_topbar").keydown(function(c){if(c.keyCode===13){c.preventDefault();wpestate_login_topbar()}});b("#wp-login-but-mobile").click(function(){wpestate_login_mobile()});b("#login_pwd_mobile, #login_user_mobile").keydown(function(c){if(c.keyCode===13){c.preventDefault();wpestate_login_mobile()}});b("#oldpass, #newpass, #renewpass").keydown(function(c){if(c.keyCode===13){c.preventDefault();wpestate_change_pass_profile()}});b("#change_pass").click(function(){wpestate_change_pass_profile()});b("#update_profile").click(function(){var e,h,j,d,q,s,f,i,r,l,g,t,k,m,p,n,o,c;r=b("#firstname").val();l=b("#secondname").val();g=b("#useremail").val();t=b("#userphone").val();h=b("#usermobile").val();k=b("#userskype").val();m=b("#usertitle").val();p=b("#about_me").val();s=b("#userfacebook").val();q=b("#usertwitter").val();d=b("#userlinkedin").val();j=b("#userpinterest").val();e=b("#website").val();n=ajaxcalls_vars.admin_url+"admin-ajax.php";o=b("#security-profile").val();c=b("#upload_picture").val();f=b("#profile-image").attr("data-profileurl");i=b("#profile-image").attr("data-smallprofileurl");b.ajax({type:"POST",url:n,data:{action:"wpestate_ajax_update_profile",firstname:r,secondname:l,useremail:g,userphone:t,usermobile:h,userskype:k,usertitle:m,description:p,upload_picture:c,"security-profile":o,profile_image_url:f,profile_image_url_small:i,userfacebook:s,usertwitter:q,userlinkedin:d,userpinterest:j,userurl:e},success:function(u){b("#profile_message").append('<div class="login-alert">'+u+"<div>")},error:function(u){}})});function a(c){if(c.lengthComputable){b("#profile_message").attr({value:c.loaded,max:c.total})}}});